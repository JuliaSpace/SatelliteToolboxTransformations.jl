<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ECI and ECEF · SatelliteToolboxTransformations.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://juliaspace.github.io/SatelliteToolboxTransformations.jl/stable/man/ecef_eci/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SatelliteToolboxTransformations.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SatelliteToolboxTransformations.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Transformations</span><ul><li class="is-active"><a class="tocitem" href>ECI and ECEF</a><ul class="internal"><li><a class="tocitem" href="#Earth-orientation-parameters-(EOP)"><span>Earth orientation parameters (EOP)</span></a></li><li><a class="tocitem" href="#ECEF-to-ECEF"><span>ECEF to ECEF</span></a></li><li><a class="tocitem" href="#ECI-to-ECI"><span>ECI to ECI</span></a></li><li><a class="tocitem" href="#ECEF-to-ECI"><span>ECEF to ECI</span></a></li><li class="toplevel"><a class="tocitem" href="#ECI-to-ECEF"><span>ECI to ECEF</span></a></li></ul></li><li><a class="tocitem" href="../ecef_local_frames/">ECEF and Local frames</a></li><li><a class="tocitem" href="../geodetic_geocentric/">Geodetic and Geocentric</a></li><li><a class="tocitem" href="../orbit_representations/">Orbit representations</a></li></ul></li><li><a class="tocitem" href="../../lib/library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Transformations</a></li><li class="is-active"><a href>ECI and ECEF</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ECI and ECEF</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSpace/SatelliteToolboxTransformations.jl/blob/main/docs/src/man/ecef_eci.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Transformations-between-ECEF-and-ECI-reference-frames"><a class="docs-heading-anchor" href="#Transformations-between-ECEF-and-ECI-reference-frames">Transformations between ECEF and ECI reference frames</a><a id="Transformations-between-ECEF-and-ECI-reference-frames-1"></a><a class="docs-heading-anchor-permalink" href="#Transformations-between-ECEF-and-ECI-reference-frames" title="Permalink"></a></h1><p>This package currently provides two models to transform reference systems: the IAU-76/FK5 and the IAU-2006/2010 (CIO and Equinox-based approach). The following table lists the available coordinate frames and how they can be referenced in the functions that will be described later on.</p><table><tr><th style="text-align: right">Reference</th><th style="text-align: right">Type</th><th style="text-align: right">Coordinate frame name</th></tr><tr><td style="text-align: right"><code>ITRF()</code></td><td style="text-align: right">ECEF</td><td style="text-align: right">International terrestrial reference frame</td></tr><tr><td style="text-align: right"><code>PEF()</code></td><td style="text-align: right">ECEF</td><td style="text-align: right">Pseudo-earth fixed reference frame</td></tr><tr><td style="text-align: right"><code>TIRS()</code></td><td style="text-align: right">ECEF</td><td style="text-align: right">Terrestrial intermediate reference system</td></tr><tr><td style="text-align: right"><code>ERS()</code></td><td style="text-align: right">ECEF</td><td style="text-align: right">Earth reference system</td></tr><tr><td style="text-align: right"><code>MOD()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">Mean-of-date reference frame</td></tr><tr><td style="text-align: right"><code>TOD()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">True-of-data reference frame</td></tr><tr><td style="text-align: right"><code>GCRF()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">Geocentric celestial reference frame (GCRF)</td></tr><tr><td style="text-align: right"><code>J2000()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">J2000 reference frame</td></tr><tr><td style="text-align: right"><code>TEME()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">True equator, mean equinox reference frame</td></tr><tr><td style="text-align: right"><code>CIRS()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">Celestial intermediate reference system</td></tr><tr><td style="text-align: right"><code>MOD06()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">Mean-of-date reference frame (IAU-2006/2010)</td></tr><tr><td style="text-align: right"><code>MJ2000()</code></td><td style="text-align: right">ECI</td><td style="text-align: right">J2000 mean equatorial frame</td></tr></table><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>ECEF stands for Earth-Centered, Earth-Fixed whereas ECI stands for Earth-Centered Inertial.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>In all the functions that will be presented here, it is not possible to mix frames between the IAU-76/FK5 and IAU-2006/2010 models in the same call.  Hence, if it is required to compute the rotation between frames in different models, then the recommended approach is to first compute the rotation from the origin frame to the ITRF or GCRF, and then compute the rotation from the ITRF or GCRF to the destination frame. However, this will only work for past dates since the Earth orientation parameters are required.</p></div></div><h2 id="Earth-orientation-parameters-(EOP)"><a class="docs-heading-anchor" href="#Earth-orientation-parameters-(EOP)">Earth orientation parameters (EOP)</a><a id="Earth-orientation-parameters-(EOP)-1"></a><a class="docs-heading-anchor-permalink" href="#Earth-orientation-parameters-(EOP)" title="Permalink"></a></h2><p>Some conversions here requires additional data related to the Earth orientation.  This information is provided by <a href="https://www.iers.org">IERS</a> (International Earth Rotation and Reference Systems Service). This package has the capability to automatically download and parse the IERS EOP (Earth Orientation Parameters).</p><p>The function that will automatically download the files, store them in the package <a href="https://github.com/JuliaPackaging/Scratch.jl">scratch space</a>, and parse the data is:</p><pre><code class="language-julia hljs">fetch_iers_eop([data_type]; kwargs...)</code></pre><p>in which <code>data_type</code> specifies what EOP type is desired (<code>Val(:IAU1980)</code> for IAU1980 and <code>Val(:IAU2000A)</code> for IAU2000A). If omitted, then it defaults to <code>Val(:IAU1980)</code>.</p><p>This function returns an instance of the structure <a href="../../lib/library/#SatelliteToolboxTransformations.EopIau1980"><code>EopIau1980</code></a> or <a href="../../lib/library/#SatelliteToolboxTransformations.EopIau2000A"><code>EopIau2000A</code></a> depending on the selection of <code>data_type</code>. The returned value should be passed to the reference frame conversion functions as described in the following.</p><p>The following keywords are available:</p><ul><li><code>force_download::Bool</code>: If the EOP file exists and is less than 7 days old, it will not be   downloaded again. A new download can be forced by setting this keyword to <code>true</code>.   (<strong>Default</strong> = <code>false</code>)</li><li><code>url::String</code>: URL of the EOP file.</li></ul><pre><code class="language-julia-repl hljs">julia&gt; eop_iau1980 = fetch_iers_eop();
[ Info: Downloading file &#39;EOP_IAU1980.TXT&#39; from &#39;https://datacenter.iers.org/data/csv/finals.all.csv&#39;...

julia&gt; eop_iau2000a = fetch_iers_eop(Val(:IAU2000A));
[ Info: Downloading file &#39;EOP_IAU2000A.TXT&#39; from &#39;https://datacenter.iers.org/data/csv/finals2000A.all.csv&#39;...</code></pre><h2 id="ECEF-to-ECEF"><a class="docs-heading-anchor" href="#ECEF-to-ECEF">ECEF to ECEF</a><a id="ECEF-to-ECEF-1"></a><a class="docs-heading-anchor-permalink" href="#ECEF-to-ECEF" title="Permalink"></a></h2><p>One ECEF frame can be converted to another one by the following function:</p><pre><code class="language-julia hljs">function r_ecef_to_ecef([T,] ECEFo, ECEFf, JD_UTC::Number, eop)</code></pre><p>where it will be computed the rotation from the ECEF reference frame <code>ECEFo</code> to the ECEF reference frame <code>ECEFf</code> at the Julian Day [UTC] <code>JD_UTC</code>. The rotation description that will be used is given by <code>T</code>, which can be <code>DCM</code> or <code>Quaternion</code>. If <code>T</code> is omitted, then it defaults to <code>DCM</code>. The <code>eop</code> in this case is always necessary. Hence, the user must initialize it as described in the section <a href="#Earth-orientation-parameters-(EOP)">Earth orientation parameters (EOP)</a>.</p><pre><code class="language-julia-repl hljs">julia&gt; r_ecef_to_ecef(PEF(), ITRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
  1.0          0.0         -4.34677e-7
 -6.29476e-13  1.0         -1.44815e-6
  4.34677e-7   1.44815e-6   1.0

julia&gt; r_ecef_to_ecef(TIRS(), ITRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau2000a)
DCM{Float64}:
  1.0          3.08408e-11  -4.34677e-7
 -3.14703e-11  1.0          -1.44815e-6
  4.34677e-7   1.44815e-6    1.0

julia&gt; r_ecef_to_ecef(Quaternion, PEF(), ITRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau1980)
Quaternion{Float64}:
  + 1.0 - 7.24073e-7⋅i + 2.17339e-7⋅j - 0.0⋅k

julia&gt; r_ecef_to_ecef(Quaternion, TIRS(), ITRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau2000a)
Quaternion{Float64}:
  + 1.0 - 7.24073e-7⋅i + 2.17339e-7⋅j + 1.55778e-11⋅k</code></pre><h2 id="ECI-to-ECI"><a class="docs-heading-anchor" href="#ECI-to-ECI">ECI to ECI</a><a id="ECI-to-ECI-1"></a><a class="docs-heading-anchor-permalink" href="#ECI-to-ECI" title="Permalink"></a></h2><p>One ECI frame can be converted to another ECI frame by one of the following functions:</p><pre><code class="language-julia hljs">function r_eci_to_eci([T,] ECIo, ECIf, JD_UTC::Number[, eop])
function r_eci_to_eci([T,] ECIo, JD_UTCo::Number, ECIf, JD_UTCf::Number[, eop])</code></pre><p>where it will be computed compute the rotation from the ECI reference frame <code>ECIo</code> to another ECI reference frame <code>ECIf</code>. If the origin and destination frame contain only one <em>of date</em> frame, then the first signature is used and <code>JD_UTC</code> is the epoch of this frame. On the other hand, if the origin and destination frame contain two <em>of date</em> frame<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>, e.g. <code>TOD =&gt; MOD</code>, then the second signature must be used in which <code>JD_UTCo</code> is the epoch of the origin frame and <code>JD_UTCf</code> is the epoch of the destination frame. The rotation description that will be used is given by <code>T</code>, which can be <code>DCM</code> or <code>Quaternion</code>. If <code>T</code> is omitted, then it defaults to <code>DCM</code>. The EOP data <code>eop_data</code>, as described in section <a href="#Earth-orientation-parameters-(EOP)">Earth orientation parameters (EOP)</a>, is required in some conversions, as described in the following table.</p><table><tr><th style="text-align: left">Model</th><th style="text-align: left">ECIo</th><th style="text-align: left">ECIf</th><th style="text-align: left">EOP Data</th><th style="text-align: left">Function Signature</th></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">Not required</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>CIRS</code></td><td style="text-align: left">Not required¹</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>CIRS</code></td><td style="text-align: left"><code>CIRS</code></td><td style="text-align: left">Not required¹</td><td style="text-align: left">Second</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First²</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First²</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left">Not required</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left">Not required³</td><td style="text-align: left">First</td></tr></table><p><code>¹</code>: In this case, the terms that account for the free-core nutation and time dependent effects of the Celestial Intermediate Pole (CIP) position with respect to the GCRF will not be available, reducing the precision.</p><p><code>²</code>: The transformation between GCRF and MJ2000 is a constant rotation matrix called bias. Hence, the date does not modify it. However, this signature was kept to avoid complications in the API.</p><p><code>³</code>: In this case, the terms that corrects the nutation in obliquity and in longitude due to the free core nutation will not be available, reducing the precision.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In this function, if EOP corrections are not provided, then MOD and TOD frames will be computed considering the original IAU-76/FK5 theory.  Otherwise, the corrected frame will be used.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; r_eci_to_eci(DCM, GCRF(), J2000(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
  1.0         -4.71332e-12   1.53474e-9
  4.7133e-12   1.0          -3.53979e-9
 -1.53474e-9   3.53979e-9    1.0

julia&gt; r_eci_to_eci(Quaternion, TEME(), GCRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau1980)
Quaternion{Float64}:
  + 0.999999 + 1.83013e-5⋅i + 0.000665304⋅j - 0.00151324⋅k

julia&gt; r_eci_to_eci(TOD(), date_to_jd(1986, 6, 19, 21, 35, 0), TOD(), date_to_jd(1987, 5, 19, 3, 0, 0), eop_iau1980)
DCM{Float64}:
 1.0          -0.000224088  -9.73787e-5
 0.000224087   1.0          -5.80065e-6
 9.738e-5      5.77883e-6    1.0

julia&gt; r_eci_to_eci(Quaternion, TOD(), 2451545.0, MOD(), 2451545.0, eop_iau1980)
Quaternion{Float64}:
  + 1.0 - 1.40025e-5⋅i + 1.34736e-5⋅j - 3.10785e-5⋅k

julia&gt; r_eci_to_eci(J2000(), TEME(), date_to_jd(1986, 6, 19, 21, 35, 0))
DCM{Float64}:
  0.999995    0.0030265    0.00133055
 -0.00302645  0.999995    -3.86125e-5
 -0.00133066  3.45854e-5   0.999999

julia&gt; r_eci_to_eci(CIRS(), GCRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau2000a)
DCM{Float64}:
 0.999999     3.88389e-8  -0.00133066
 7.18837e-9   1.0          3.45897e-5
 0.00133066  -3.45897e-5   0.999999

julia&gt; r_eci_to_eci(Quaternion, CIRS(), GCRF(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau2000a)
Quaternion{Float64}:
  + 1.0 + 1.72949e-5⋅i + 0.000665332⋅j + 7.91263e-9⋅k

julia&gt; r_eci_to_eci(DCM, GCRF(), J2000(), date_to_jd(1986, 6, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
  1.0         -4.71332e-12   1.53474e-9
  4.7133e-12   1.0          -3.53979e-9
 -1.53474e-9   3.53979e-9    1.0</code></pre><h2 id="ECEF-to-ECI"><a class="docs-heading-anchor" href="#ECEF-to-ECI">ECEF to ECI</a><a id="ECEF-to-ECI-1"></a><a class="docs-heading-anchor-permalink" href="#ECEF-to-ECI" title="Permalink"></a></h2><p>One ECEF frame can be convert to one ECI frame using the following function:</p><pre><code class="language-julia hljs">function r_ecef_to_eci([T,] ECEF, ECI, JD_UTC::Number[, eop])</code></pre><p>where it will be compute the rotation from the ECEF frame <code>ECEF</code> to the ECI frame <code>ECI</code> at the Julian Day [UTC] <code>JD_UTC</code>. The rotation description that will be used is given by <code>T</code>, which can be <code>DCM</code> or <code>Quaternion</code>. If it is omitted, then it defaults to <code>DCM</code>. The EOP data <code>eop_data</code>, as described in section <a href="#Earth-orientation-parameters-(EOP)">Earth orientation parameters (EOP)</a>, is required in some conversions, as described in the following table.</p><table><tr><th style="text-align: left">Model</th><th style="text-align: left">ECEF</th><th style="text-align: left">ECI</th><th style="text-align: left">EOP Data</th></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>PEF</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU1980</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>PEF</code></td><td style="text-align: left"><code>J2000</code></td><td style="text-align: left">Not required¹</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>PEF</code></td><td style="text-align: left"><code>MOD</code></td><td style="text-align: left">Not required¹</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>PEF</code></td><td style="text-align: left"><code>TOD</code></td><td style="text-align: left">Not required¹</td></tr><tr><td style="text-align: left">IAU-76/FK5</td><td style="text-align: left"><code>PEF</code></td><td style="text-align: left"><code>TEME</code></td><td style="text-align: left">Not required¹</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>CIRS</code></td><td style="text-align: left">EOP IAU2000A</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">EOP IAU2000A</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>TIRS</code></td><td style="text-align: left"><code>CIRS</code></td><td style="text-align: left">Not required¹</td></tr><tr><td style="text-align: left">IAU-2006/2010 CIO-based</td><td style="text-align: left"><code>TIRS</code></td><td style="text-align: left"><code>GCRF</code></td><td style="text-align: left">Not required¹ ²</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left">EOP IAU2000A</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left">EOP IAU2000A</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>ITRF</code></td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left">EOP IAU2000A</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>TIRS</code></td><td style="text-align: left"><code>ERS</code></td><td style="text-align: left">Not required¹ ³</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>TIRS</code></td><td style="text-align: left"><code>MOD06</code></td><td style="text-align: left">Not required¹ ³</td></tr><tr><td style="text-align: left">IAU-2006/2010 Equinox-based</td><td style="text-align: left"><code>TIRS</code></td><td style="text-align: left"><code>MJ2000</code></td><td style="text-align: left">Not required¹ ³</td></tr></table><p><code>¹</code>: In this case, UTC will be assumed equal to UT1 to compute the Greenwich Mean Sidereal Time. This is an approximation, but should be sufficiently accurate for some applications. Notice that, if EOP Data is provided, UT1 will be accurately computed.</p><p><code>²</code>: In this case, the terms that account for the free core nutation and time dependent effects of the Celestial Intermediate Pole (CIP) position with respect to the GCRF will not be available, reducing the precision.</p><p><code>³</code>: In this case, the terms that corrects the nutation in obliquity and in longitude due to the free core nutation will not be available, reducing the precision.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In this function, if EOP corrections are not provided, then MOD and TOD frames will be computed considering the original IAU-76/FK5 theory.  Otherwise, the corrected frame will be used.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; r_ecef_to_eci(DCM, ITRF(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267      0.78518     -0.00132979
 -0.78518      -0.619267     3.33509e-5
 -0.000797312   0.00106478   0.999999

julia&gt; r_ecef_to_eci(ITRF(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267      0.78518     -0.00132979
 -0.78518      -0.619267     3.33509e-5
 -0.000797312   0.00106478   0.999999

julia&gt; r_ecef_to_eci(PEF(), J2000(), date_to_jd(1986, 06, 19, 21, 35, 0))
DCM{Float64}:
 -0.619271      0.785176    -0.00133066
 -0.785177     -0.619272     3.45854e-5
 -0.000796885   0.00106622   0.999999

julia&gt; r_ecef_to_eci(PEF(), J2000(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267      0.78518     -0.00133066
 -0.78518      -0.619267     3.45854e-5
 -0.000796879   0.00106623   0.999999

julia&gt; r_ecef_to_eci(Quaternion, ITRF(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
Quaternion{Float64}:
  + 0.43631 - 0.000590997⋅i + 0.000305106⋅j + 0.899796⋅k

julia&gt; r_ecef_to_eci(ITRF(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau2000a)
DCM{Float64}:
 -0.619267      0.78518     -0.00132979
 -0.78518      -0.619267     3.33516e-5
 -0.000797311   0.00106478   0.999999

julia&gt; r_ecef_to_eci(TIRS(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0))
DCM{Float64}:
 -0.619271      0.785176    -0.00133066
 -0.785177     -0.619272     3.45884e-5
 -0.000796885   0.00106623   0.999999

julia&gt; r_ecef_to_eci(Quaternion, ITRF(), GCRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau2000a)
Quaternion{Float64}:
  + 0.43631 - 0.000590997⋅i + 0.000305106⋅j + 0.899796⋅k</code></pre><h1 id="ECI-to-ECEF"><a class="docs-heading-anchor" href="#ECI-to-ECEF">ECI to ECEF</a><a id="ECI-to-ECEF-1"></a><a class="docs-heading-anchor-permalink" href="#ECI-to-ECEF" title="Permalink"></a></h1><p>One ECI frame can be converted to one ECEF frame using the following function:</p><pre><code class="language-julia hljs">function r_eci_to_ecef([T,] ECI, ECEF, JD_UTC::Number[, eop])</code></pre><p>which has the same characteristics of the function <a href="../../lib/library/#SatelliteToolboxTransformations.r_ecef_to_eci-Tuple{Union{Val{:ITRF}, Val{:PEF}}, Union{Val{:GCRF}, Val{:J2000}, Val{:TOD}, Val{:MOD}, Val{:TEME}}, Number, EopIau1980}"><code>r_ecef_to_eci</code></a> described in Section <a href="#ECEF-to-ECI">ECEF to ECI</a>, but with the inputs <code>ECI</code>  and <code>ECEF</code> swapped.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This function actually calls <a href="../../lib/library/#SatelliteToolboxTransformations.r_ecef_to_eci-Tuple{Union{Val{:ITRF}, Val{:PEF}}, Union{Val{:GCRF}, Val{:J2000}, Val{:TOD}, Val{:MOD}, Val{:TEME}}, Number, EopIau1980}"><code>r_ecef_to_eci</code></a> first and then uses <code>inv_rotation</code>. Hence, it has a slightly overhead on top of <a href="../../lib/library/#SatelliteToolboxTransformations.r_ecef_to_eci-Tuple{Union{Val{:ITRF}, Val{:PEF}}, Union{Val{:GCRF}, Val{:J2000}, Val{:TOD}, Val{:MOD}, Val{:TEME}}, Number, EopIau1980}"><code>r_ecef_to_eci</code></a>, which should be negligible for both rotation representations that are supported.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; r_eci_to_ecef(DCM, GCRF(), ITRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267    -0.78518     -0.000797312
  0.78518     -0.619267     0.00106478
 -0.00132979   3.33509e-5   0.999999

julia&gt; r_eci_to_ecef(GCRF(), ITRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267    -0.78518     -0.000797312
  0.78518     -0.619267     0.00106478
 -0.00132979   3.33509e-5   0.999999

julia&gt; r_eci_to_ecef(J2000(), PEF(), date_to_jd(1986, 06, 19, 21, 35, 0))
DCM{Float64}:
 -0.619271    -0.785177    -0.000796885
  0.785176    -0.619272     0.00106622
 -0.00133066   3.45854e-5   0.999999

julia&gt; r_eci_to_ecef(J2000(), PEF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
DCM{Float64}:
 -0.619267    -0.78518     -0.000796879
  0.78518     -0.619267     0.00106623
 -0.00133066   3.45854e-5   0.999999

julia&gt; r_eci_to_ecef(Quaternion, GCRF(), ITRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau1980)
Quaternion{Float64}:
  + 0.43631 + 0.000590997⋅i - 0.000305106⋅j - 0.899796⋅k

julia&gt; r_eci_to_ecef(GCRF(), ITRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau2000a)
DCM{Float64}:
 -0.619267    -0.78518     -0.000797311
  0.78518     -0.619267     0.00106478
 -0.00132979   3.33516e-5   0.999999

julia&gt; r_eci_to_ecef(GCRF(), TIRS(), date_to_jd(1986, 06, 19, 21, 35, 0))
DCM{Float64}:
 -0.619271    -0.785177    -0.000796885
  0.785176    -0.619272     0.00106623
 -0.00133066   3.45884e-5   0.999999

julia&gt; r_eci_to_ecef(Quaternion, GCRF(), ITRF(), date_to_jd(1986, 06, 19, 21, 35, 0), eop_iau2000a)
Quaternion{Float64}:
  + 0.43631 + 0.000590997⋅i - 0.000305106⋅j - 0.899796⋅k</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>TEME is an <em>of date</em> frame.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../ecef_local_frames/">ECEF and Local frames »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 7 July 2023 02:59">Friday 7 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
